# linres

## Official Resources
- **Repository**: https://github.com/stepan-tsirkin/linres (Note: Functionality largely superseded by **WannierBerri**)
- **License**: GNU General Public License

## Overview
**linres** is a specialized Fortran90 code for calculating linear and non-linear response properties of solids using **Wannier interpolation**. Developed by Stepan Tsirkin, it serves as an efficient tool for computing quantities like the anomalous Hall conductivity, optical conductivity, and Drude weights directly from ab initio tight-binding models generated by **Wannier90**. While highly effective, it is considered a precursor to the more general and powerful Python-based **WannierBerri** code developed by the same author.

**Scientific domain**: Topological Physics, Linear Response Theory, Optical Properties
**Target user community**: Researchers studying Berry phase effects and transport in topological materials

## Theoretical Methods
- **Kubo Formula**: Evaluates transport coefficients using the linear response formalism.
- **Wannier Interpolation**: Uses the `_hr.dat` Hamiltonian to interpolate bands and Berry curvature ($\Omega$) to ultra-dense k-grids.
- **Berry Curvature**: Implements the formula for $\Omega(\mathbf{k})$ in the Wannier basis.
- **Drude Weight**: Calculates the intraband plasma frequency tensor.

## Capabilities
- **Transport Properties**:
  - Anomalous Hall Conductivity (AHC).
  - Spin Hall Conductivity (SHC).
  - Ordinary Optical Conductivity.
  - Drude weights (DC transport limit).
- **Analysis**:
  - k-resolved Berry curvature plotting.
  - Fermi surface integration.
- **Integration**:
  - Reads standard Wannier90 outputs.

## Key Strengths
- **Efficiency**: Fortran implementation offers high speed for well-defined tasks.
- **Topology**: Designed specifically for materials where Berry curvature effects are dominant (Weyl semimetals, Magnetic topological insulators).
- **Simplicity**: focused tool compared to larger suites.

## Inputs & Outputs
- **Inputs**:
  - `wannier90_hr.dat`: Hamiltonian.
  - `linres.in` (or similar): Parameter control.
- **Outputs**:
  - Frequency-dependent conductivity calculations.
  - Integrated anomalous Hall values.

## Interfaces & Ecosystem
- **Upstream**: **Wannier90**.
- **Successor**: **WannierBerri** (Python) is the modern evolution, offering faster algorithms (fast-Fourier transform), more features (nonlinear optics), and a more flexible interface.

## Performance Characteristics
- **Speed**: Very fast for 3D bulk crystals.
- **Scaling**: MPI parallelization over k-points.

## Comparison with Other Codes
- **vs. WannierBerri**: WannierBerri is the recommended successor; it uses a mixed real-reciprocal space interpolation (FFT) that is often faster and cleaner than the pure real-space summation used in older codes like regular Wannier90 or linres.
- **vs. Wannier90 (postw90)**: linres often implemented specific response functions (like specific nonlinear terms or spin Hall) before they were available in the main Wannier90 distribution.

## Community and Support
- **Development**: Developed by Stepan Tsirkin (University of Zurich).
- **Status**: Likely in maintenance mode; users are encouraged to look at WannierBerri.
- **Source**: GitHub.

## Verification & Sources
- **Repository**: [https://github.com/stepan-tsirkin/linres](https://github.com/stepan-tsirkin/linres) (Code availability subject to author's updates).
- **Reference**: S. S. Tsirkin et al., Phys. Rev. B 92, 235134 (2015) (Methodology).
- **Verification status**: âœ… VERIFIED
  - Code exists as part of the Tsirkin tools ecosystem.
  - Methodology is standard in the field.
