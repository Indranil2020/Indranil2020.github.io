# Wan2respack

## Official Resources
- **Repository**: https://github.com/respack-dev/wan2respack
- **RESPACK Homepage**: https://sites.google.com/view/kazuma7k6r/respack
- **License**: GNU General Public License v3.0

## Overview
**Wan2respack** is a critical interface utility that bridges **Wannier90** and **RESPACK**. It converts the maximally localized Wannier functions (MLWFs) generated by Wannier90 into the specific input format required by RESPACK. This enables RESPACK to perform advanced many-body calculations—specifically the **Constrained Random Phase Approximation (cRPA)**—on models derived from standard DFT codes (like Quantum ESPRESSO) via Wannierization. It effectively allows for the ab initio derivation of effective Hamiltonian parameters (Hubbard $U$, Hund's $J$, and inter-site $V$) for strongly correlated materials.

**Scientific domain**: Strongly Correlated Electrons, Effective Hamiltonians, Downfolding
**Target user community**: Researchers using DFT+DMFT or needing accurate interaction parameters for lattice models

## Theoretical Methods
- **Basis Transformation**: Converts the real-space Wannier Hamiltonian and orbital definitions from Wannier90 conventions to RESPACK's internal format.
- **Downfolding**: Facilitates the construction of low-energy effective models by preparing the detailed full-frequency data for cRPA.
- **Constrained RPA (cRPA)**: Prepares inputs for the calculation of the frequency-dependent screened Coulomb interaction $W(\omega)$ by screening the bare Coulomb interaction $v$ within the RPA, excluding the target subspace.

## Capabilities
- **Format Conversion**:
  - Reads `case_hr.dat`, `case.chk`, or `case.mmn`/`case.amn` (depending on workflow versions).
  - Writes RESPACK Hamiltonian and overlap files.
- **Workflow enabling**:
  - Enables the calculation of static and frequency-dependent Hubbard parameters.
  - Supports microscopic derivation of model parameters for customized tight-binding models.

## Key Strengths
- **Interoperability**: Connects the vast ecosystem of codes supporting Wannier90 (QE, VASP, Abinit) to the specialized response function capabilities of RESPACK.
- **Automation**: Automates the often error-prone manual conversion of basis set definitions.
- **Open Source**: Freely available and modifiable under GPLv3.

## Inputs & Outputs
- **Inputs**:
  - Wannier90 output files (`_hr.dat`, `_centres.xyz`, `_u.mat` or checkpoint).
  - Quantum ESPRESSO / DFT data (if wavefunctions are needed for matrix elements).
- **Outputs**:
  - RESPACK-compatible Hamiltonian (`dat.hamiltonian`).
  - Overlap matrices (`dat.overlap`).
  - Lattice and orbital information.

## Interfaces & Ecosystem
- **Upstream**:
  - **Quantum ESPRESSO**: Typical source of Bloch states.
  - **Wannier90**: Generates the MLWFs.
- **Downstream**:
  - **RESPACK**: Calculates dielectric functions and screened interactions using the converted data.

## Performance Characteristics
- **Computational Cost**: Negligible compared to the preceding DFT/Wannier steps and the subsequent response function calculation.
- **Memory**: Low memory footprint (manipulates small tight-binding matrices).

## Limitations & Known Constraints
- **Dependency Chain**: Strict reliance on the formats of specific Wannier90 versions; updates to Wannier90 outputs may require updates to wan2respack.
- **Non-Standard Basis**: Does not check the physical validity of the Wannier functions; the user must ensure MLWFs are well-localized and symmetric.

## Comparison with Other Codes
- **vs. cRPA in VASP/Abinit**: Some DFT codes have internal cRPA implementations; Wan2respack + RESPACK allows for a modular approach where the Wannierization (basis construction) is decoupled from the screening calculation.
- **vs. TRIQS cRPA**: TRIQS also offers cRPA tools; RESPACK is another alternative often favored by the Japanese computational materials science community (ISSP).

## Application Areas
- **Hubbard Models**: Deriving $U$ and $J$ for cuprates, iron pnictides, and ruthenates.
- **Molecular Solids**: Calculating intermolecular screening parameters.
- **Excitonic Physics**: Inputs for Bethe-Salpeter calculations in localized bases.

## Community and Support
- **Development**: Maintained by the RESPACK development team (Kazuma Nakamura et al., Kyushu Institute of Technology / ISSP).
- **Documentation**: Provided within the repository and RESPACK website.

## Verification & Sources
- **Repository**: [https://github.com/respack-dev/wan2respack](https://github.com/respack-dev/wan2respack)
- **Primary Publication** (for RESPACK/Method): K. Nakamura et al., Phys. Rev. B 80, 125102 (2009).
- **Verification status**: ✅ VERIFIED
  - Active interface tool.
  - Essential for the RESPACK workflow.
